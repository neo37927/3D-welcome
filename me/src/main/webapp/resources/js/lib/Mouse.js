var Mouse=function(a){var b=this;this.buttons=[],this.x=0,this.y=0,this.dx=0,this.dy=0,this.coords=new THREE.Vector2;var c=[],d=function(){this.x=0,this.y=0,this.dx=0,this.dy=0,this.coords=new THREE.Vector2,this.buttons=[]},e=function(c,d){var e=b.getMouse(d||0);e.dx=c.pageX-e.x,e.dy=c.pageY-e.y,e.x=c.pageX,e.y=c.pageY,e.coords.x=e.x/a.clientWidth*2-1,e.coords.y=e.y/a.clientHeight*-2+1},f=function(a){e(a)},g=function(a){e(a),b.getMouse().buttons[a.button]=!0},h=function(a){e(a),b.getMouse().buttons[a.button]=!1},i=function(a){for(var b=a.changedTouches,c=0;c<b.length;c++)e(b[c],b[c].identifier);a.preventDefault()},j=function(a){for(var c=a.changedTouches,d=0;d<c.length;d++)e(c[d],c[d].identifier),b.getMouse(c[d].identifier).buttons[0]=!0;a.preventDefault()},k=function(a){for(var c=a.changedTouches,d=0;d<c.length;d++)e(c[d],c[d].identifier),b.getMouse(c[d].identifier).buttons[0]=!1;a.preventDefault()};this.getLength=function(){return c.length},this.getMouse=function(a){return a=a||0,a>=c.length&&(c[a]=new d),c[a]},a.addEventListener("mousemove",f,!1),a.addEventListener("mousedown",g,!1),a.addEventListener("mouseup",h,!1),a.addEventListener("touchmove",i,!1),a.addEventListener("touchstart",j,!1),a.addEventListener("touchend",k,!1),a.addEventListener("touchleave",k,!1),a.addEventListener("touchcancel",k,!1)};